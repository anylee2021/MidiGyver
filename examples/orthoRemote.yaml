global:
    timer: false
    time: 0.01
    time_step: 0.001

pulse:
    -   name: u_timeline
        interval: 10
        type: scalar
        shape: |
            function() {
                if (global.timer) {
                    global.time += global.time_step
                    return global.time;
                }
                else
                    return false;
            }

in:
    ortho_remote*:
        -   key: 0
            name: play
            type: toggle
            shape: |
                function() {
                    if (data.value)
                        global.timer = true;
                    else
                        global.timer = false;

                    return value;
                }

        -   key: 1
            name: u_timeline
            type: number
            shape: |
                function() {
                    if (global.timer) {
                        if (value == 127)
                            global.time_step -= 0.0001;
                        else
                            global.time_step += 0.0001;
                        
                        return false;
                    }
                    else {
                        if (value == 127)
                            global.time -= global.time_step;
                        else
                            global.time += global.time_step;

                        return global.time;
                    }
                }

out:
    -   csv
    -   osc://localhost:8000
